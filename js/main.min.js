function positionAt(o,e,p){var t=o.getBoundingClientRect();switch(e){case"right":p.style.left=t.left+o.offsetWidth+1+"px",p.style.top=t.bottom-p.offsetHeight+"px";break;case"bottom":p.style.left=t.left-1+"px",p.style.top=t.top+o.offsetHeight+1+"px"}}function showPopup(o,e,p){for(var t=0;t<lesson.length;t++)if(lesson.item(t).classList.contains(o)){var s=lesson.item(t);lesson.item(t).addEventListener("click",function(o){o.preventDefault();for(var t=0;t<popup.length;t++)popup.item(t).classList.contains(e)&&(popup.item(t).classList.add("popup--show"),positionAt(s,p,popup.item(t)))})}}function closePopup(){for(var o=0;o<close.length;o++)close.item(o).addEventListener("click",function(o){o.preventDefault();for(var e=0;e<popup.length;e++)popup.item(e).classList.remove("popup--show")})}var lesson=document.querySelectorAll(".calendar__lesson--active"),popup=document.querySelectorAll(".popup"),close=document.querySelectorAll(".popup__close");showPopup("calendar__lesson--6_1","popup--6_1","right"),showPopup("calendar__lesson--4_5","popup--4_5","right"),showPopup("calendar__lesson--2_6","popup--2_6","bottom"),showPopup("calendar__lesson--1_2","popup--1_2","right"),closePopup(),window.addEventListener("keydown",function(o){if(27==o.keyCode)for(var e=0;e<popup.length;e++)popup.item(e).classList.contains("popup--show")&&popup.item(e).classList.remove("popup--show")});